
// JS actions for helpful button and helpful count

var helpfulButton = document.getElementById("btn-helpful")
if (helpfulButton !== null) {
  <% if @interaction.helpful %>
    if (!helpfulButton.classList.contains("btn-back-help")) {
        helpfulButton.classList.add("btn-back-help");
        helpfulButton.classList.remove("btn-flat-help")
    }
    <% else %>
    if (!helpfulButton.classList.contains("btn-flat-help")) {
        helpfulButton.classList.add("btn-flat-help");
        helpfulButton.classList.remove("btn-back-help")
    }
    <% end %>
}

var helpfulCount =  document.getElementById("helpful-count")
if (helpfulCount !== null) {
    helpfulCount.innerHTML = "<%= @video.helpful.to_s + " this was helpful" %>"
}

// JS actions for good style button and good style count

var styleButton = document.getElementById("style")
if (styleButton !== null) {
  <% if @interaction.good_style %>
    if (!styleButton.classList.contains("btn-back-gs")) {
        styleButton.classList.add("btn-back-gs");
        styleButton.classList.remove("btn-flat-gs")
    }

  <% else %>
    if (!styleButton.classList.contains("btn-flat-gs")) {
        styleButton.classList.add("btn-flat-gs");
        styleButton.classList.remove("btn-back-gs")
    }

  <% end %>
}

var goodStyleCount =  document.getElementById("good-style-count")
if (goodStyleCount !== null) {
    goodStyleCount.innerHTML = "<%= @video.good_style.to_s + " credit for good style" %>"
}

// JS actions for like and dislike (up and down votes) buttons and count

var likeButton = document.getElementById("upvote")
var dislikeButton = document.getElementById("downvote")
if (likeButton !== null && dislikeButton !== null) {
  <% case @interaction.vote %>
  <% when true %>
    if (!likeButton.classList.contains("btn-vote")) {
      likeButton.classList.add("btn-vote")
      // likeButton.classList.remove("btn-vote")
    }

    if (!dislikeButton.classList.contains("btn-vote")) {
        dislikeButton.classList.add("btn-vote")
        // dislikeButton.classList.remove("btn-vote")
    }

  <% when false %>
    if (!dislikeButton.classList.contains("btn-vote")) {
        dislikeButton.classList.add("btn-vote")
    }
    // dislikeButton.classList.remove("btn-vote")

    if (!likeButton.classList.contains("btn-vote")) {
        likeButton.classList.add("btn-vote")
    }
    // likeButton.classList.remove("btn-vote")
  <% when nil %>
    if (!likeButton.classList.contains("btn-vote")) {
        likeButton.classList.add("btn-vote")
    }
    // likeButton.classList.remove("btn-vote")

    if (!dislikeButton.classList.contains("btn-vote")) {
        dislikeButton.classList.add("btn-vote")
    }
    // dislikeButton.classList.remove("btn-vote")
  <% end %>
}

var voteCount =  document.getElementById("vote-count")
if (voteCount !== null) {
    voteCount.innerHTML = "<%= @video.rating.to_s + " verified as mastered" %>"
}

// JS actions for mastered/rewind buttons

var masteredButton = document.getElementById("btn-mastered-<%= @video.id %>")
var masteredStamp = document.getElementById("mastered-stamp-<%= @video.id %>")
if (masteredButton !== null && masteredStamp !== null) {
  <% if @interaction.completed? %>
    if (!masteredButton.classList.contains("btn-flat")) {
        masteredButton.classList.add("btn-flat")
    }
    masteredButton.classList.remove("btn-flat-green")
    masteredButton.innerText = "rewind"
  <% else %>
    if (!masteredButton.classList.contains("btn-flat-green")) {
        masteredButton.classList.add("btn-flat-green")
    }
    masteredButton.classList.remove("btn-flat")
    masteredButton.innerText = "mastered it"
  <% end %>
  masteredStamp.classList.toggle("hidden")
}

var rookieProgress = document.getElementById(id="rookie-level")
var intermediateProgress = document.getElementById(id="intermediate-level")
var proProgress = document.getElementById(id="pro-level")
if (rookieProgress !== null ) {
    rookieProgress.innerText = "rookie level <%= "#{@rookie_completed_count}/#{@rookie_count}" %>"
}
if (intermediateProgress !== null ) {
    intermediateProgress.innerText = "intermediate level <%= "#{@intermediate_completed_count}/#{@intermediate_count}" %>"
}
if (proProgress !== null ) {
    proProgress.innerText = "pro level <%= "#{@pro_completed_count}/#{@pro_count}" %>"
}





<% btn_mastered = @interaction.completed ? "btn btn-flat-green btn-flat-green-view" : "btn btn-flat btn-flat-green-view" %>
<% btn_helpful = @interaction.helpful ? "btn-primary" : "btn-flat" %>
<% btn_good_style = @interaction.good_style ? "btn-primary" : "btn-back" %>
<% btn_up_vote = @interaction.vote ? "btn-primary" : "icons" %>
<% btn_down_vote = @interaction.vote ? "icons" : (@interaction.vote==nil ? "icons" : "btn-primary") %>







